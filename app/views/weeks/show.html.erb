<nav>
  <ul>
    <li>
      <%= link_to @week.month.starts_at.strftime("%B, %Y"), year_month_path(@week.month.year, @week.month) %>
    </li>
  </ul>
</nav>

<h1>
  Week <%= @week.value %>, <%= @week.year.value %>
</h1>

<nav>
  <ul>
    <li>
      <%= link_to "Week #{@week.prev.value}, #{@week.prev.year.value}", year_week_path(@week.prev.year, @week.prev) %>
    </li>
    <li>
      <%= link_to "Week #{@week.next.value}, #{@week.next.year.value}", year_week_path(@week.next.year, @week.next) %>
    </li>
  </ul>
</nav>

<p>
<%= link_to 'New Event', new_event_path(starts_at: @week.starts_at) %>
</p>

<ul>
  <% @week.days.each do |day| %>
    <li>
      <%= link_to(
        day.starts_at.day.to_s,
        year_month_day_path(day.year, day.month, day)
      ) %>

    <table>
      <thead>
        <tr>
          <th>Title</th>
          <th>Starts at</th>
          <th>Duration</th>
          <th colspan="3"></th>
        </tr>
      </thead>

      <tbody>
        <% day.events.each do |event| %>
          <tr>
            <td><%= event.title %></td>
            <td><%= event.starts_at %></td>
            <td><%= event.duration %></td>
            <td><%= link_to 'Show', event %></td>
            <td><%= link_to 'Edit', edit_event_path(event) %></td>
            <td>
              <%= link_to 'Destroy', event, method: :delete, data: {
                confirm: 'Are you sure?'
              } %>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
    </li>
  <% end %>
</ul>
